$execute if block ~ ~ ~ minecraft:furnace[facing=north] align xyz positioned ~0.5 ~0.5 ~0.5 run summon item_display ~ ~ ~ {Rotation:[180.0f,0.0f],Tags:["smithed.block","smithed.entity","smithed.strict","thallium.entity","thallium.entity.block","thallium.second_clock","thallium.tick","thallium.registered","fathoms.block","fathoms.block.coffer"],item:{id:"minecraft:poisonous_potato",count:1,components:{"minecraft:item_model":"fathoms:coffer","minecraft:custom_model_data":{strings:[$(variant)]}}}}
$execute if block ~ ~ ~ minecraft:furnace[facing=south] align xyz positioned ~0.5 ~0.5 ~0.5 run summon item_display ~ ~ ~ {Rotation:[0.0f,0.0f],Tags:["smithed.block","smithed.entity","smithed.strict","thallium.entity","thallium.entity.block","thallium.second_clock","thallium.tick","thallium.registered","fathoms.block","fathoms.block.coffer"],item:{id:"minecraft:poisonous_potato",count:1,components:{"minecraft:item_model":"fathoms:coffer","minecraft:custom_model_data":{strings:[$(variant)]}}}}
$execute if block ~ ~ ~ minecraft:furnace[facing=east] align xyz positioned ~0.5 ~0.5 ~0.5 run summon item_display ~ ~ ~ {Rotation:[-90.0f,0.0f],Tags:["smithed.block","smithed.entity","smithed.strict","thallium.entity","thallium.entity.block","thallium.second_clock","thallium.tick","thallium.registered","fathoms.block","fathoms.block.coffer"],item:{id:"minecraft:poisonous_potato",count:1,components:{"minecraft:item_model":"fathoms:coffer","minecraft:custom_model_data":{strings:[$(variant)]}}}}
$execute if block ~ ~ ~ minecraft:furnace[facing=west] align xyz positioned ~0.5 ~0.5 ~0.5 run summon item_display ~ ~ ~ {Rotation:[90.0f,0.0f],Tags:["smithed.block","smithed.entity","smithed.strict","thallium.entity","thallium.entity.block","thallium.second_clock","thallium.tick","thallium.registered","fathoms.block","fathoms.block.coffer"],item:{id:"minecraft:poisonous_potato",count:1,components:{"minecraft:item_model":"fathoms:coffer","minecraft:custom_model_data":{strings:[$(variant)]}}}}

execute as @n[type=minecraft:item_display,tag=fathoms.block.coffer] run data modify entity @s data.fathoms set from block ~ ~ ~ Items[{Slot:0b}].components."minecraft:custom_data".fathoms.block.coffer

summon interaction ~ ~-0.5 ~ {response:1b,Tags:["thallium.entity","thallium.entity.block","thallium.second_clock","thallium.tick","thallium.registered","fathoms.block","fathoms.block.coffer_interaction"],width:1.05f,height:1.05f}

setblock ~ ~ ~ minecraft:barrier